{"ast":null,"code":"import _slicedToArray from\"E:\\\\prots\\\\app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./styles.scss';import axios from'axios';import{useHistory}from\"react-router-dom\";var fire=require('../images/fire.png');var logo=require('../images/propit.png');var Login=function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();var details={username:'',password:''};React.useEffect(function(){if(localStorage.getItem('tokenP')){history.push(\"/Dashboard\");}},[]);var callApi=function callApi(){setError(false);var config={headers:{'Content-Type':'application/json','Accept':'application/json'},data:{},params:details};axios.post('http://localhost:3001/login',{username:details.username,password:details.password}).then(function(response){console.log(response+\"גדשגדשגדש\");localStorage.setItem('tokenP',response.data);history.push(\"/dashboard\");}).catch(function(error){setError(true);});};var handleNameChange=function handleNameChange(event){details.username=event.target.value;console.log(details.username);};var handlePasswordChange=function handlePasswordChange(event){details.password=event.target.value;console.log(details.password);};return/*#__PURE__*/React.createElement(\"div\",{className:\"page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login\",id:\"loginComponent\"},/*#__PURE__*/React.createElement(\"div\",null,\" \",/*#__PURE__*/React.createElement(\"img\",{style:{maxWidth:'250px'},src:logo})),/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'10px'}},\"Username\",/*#__PURE__*/React.createElement(\"input\",{onChange:function onChange(e){handleNameChange(e);}})),/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'10px'}},\"Password\",/*#__PURE__*/React.createElement(\"input\",{type:\"password\",onChange:function onChange(e){handlePasswordChange(e);}})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return callApi();}},\"!\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\")),error&&/*#__PURE__*/React.createElement(\"div\",null,\"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D0\\u05D5 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D0 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D9\\u05DD*\")));};export default Login;","map":{"version":3,"sources":["E:/prots/app/src/Login/index.tsx"],"names":["React","useState","axios","useHistory","fire","require","logo","Login","error","setError","history","details","username","password","useEffect","localStorage","getItem","push","callApi","config","headers","data","params","post","then","response","console","log","setItem","catch","handleNameChange","event","target","value","handlePasswordChange","maxWidth","marginBottom","e"],"mappings":"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","sourcesContent":["import React, {useState, Component} from 'react';\r\nimport './styles.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelopeOpen } from '@fortawesome/free-regular-svg-icons';\r\nimport { faBars, faCaretDown, faCaretLeft, faFire, faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst fire = require('../images/fire.png');\r\nconst logo = require('../images/propit.png');\r\n\r\n\r\n\r\nconst Login  = () =>  {\r\n  const [error, setError] = useState(false)\r\n  const history = useHistory();\r\n    const details = {\r\n        username: '',\r\n        password: ''\r\n      }\r\n\r\n    \r\n      React.useEffect(() => {\r\n       \r\n          if(localStorage.getItem('tokenP')){\r\n            history.push(\"/Dashboard\")\r\n          }    \r\n    \r\n    \r\n      }, []); \r\n        \r\n\r\n\r\n   const callApi = () => {\r\n        setError(false)\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            data: {},\r\n            params: details\r\n            \r\n        }\r\n\r\n\r\n          \r\n\r\n\r\n        axios.post('http://localhost:3001/login', {\r\n            username: details.username,\r\n            password: details.password\r\n          })\r\n          .then(function (response) {\r\n            console.log(response + \"גדשגדשגדש\");\r\n            localStorage.setItem('tokenP',response.data)\r\n            \r\n            history.push(\"/dashboard\");\r\n          })\r\n          .catch(function (error) {\r\n            setError(true)\r\n          });\r\n      \r\n    }\r\n\r\n  const   handleNameChange = (event) => {\r\n        details.username = event.target.value;\r\n        console.log(details.username)\r\n    }\r\n    const handlePasswordChange = (event) => {\r\n        details.password = event.target.value;\r\n        console.log(details.password)\r\n    }\r\n\r\n\r\n      return (\r\n      <div className=\"page\">\r\n        <div className=\"login\" id=\"loginComponent\">\r\n        <div> <img style={{maxWidth:'250px'}} src={logo}/></div>\r\n        <div style={{marginBottom: '10px'}}>Username<input onChange={e => {handleNameChange(e)}}/></div>\r\n        <div style={{marginBottom: '10px'}}>Password<input type=\"password\" onChange={e => {handlePasswordChange(e)}}/></div>\r\n        <div><button onClick={() => callApi()}>!התחבר</button></div>\r\n        {error && <div>שם משתמש או סיסמא לא תקינים*</div>}\r\n        </div>\r\n        \r\n        \r\n    </div>);\r\n  \r\n    \r\n\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}