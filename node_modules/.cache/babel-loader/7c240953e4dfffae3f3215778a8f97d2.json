{"ast":null,"code":"var _jsxFileName = \"E:\\\\prots\\\\app\\\\src\\\\Login\\\\index.tsx\";\nimport React, { useState } from 'react';\nimport './styles.scss';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\n\nconst fire = require('../images/fire.png');\n\nconst logo = require('../images/propit.png');\n\nconst Login = () => {\n  const [error, setError] = useState(false);\n  const history = useHistory();\n  const details = {\n    username: '',\n    password: ''\n  };\n  React.useEffect(() => {\n    if (localStorage.getItem('tokenP')) {\n      history.push(\"/Dashboard\");\n    }\n  }, []);\n\n  const callApi = () => {\n    setError(false);\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      data: {},\n      params: details\n    };\n    axios.post('http://localhost:3001/login', {\n      username: details.username,\n      password: details.password\n    }).then(function (response) {\n      console.log(response + \"גדשגדשגדש\");\n      localStorage.setItem('tokenP', response.data);\n      history.push(\"/dashboard\");\n    }).catch(function (error) {\n      setError(true);\n    });\n  };\n\n  const handleNameChange = event => {\n    details.username = event.target.value;\n    console.log(details.username);\n  };\n\n  const handlePasswordChange = event => {\n    details.password = event.target.value;\n    console.log(details.password);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      maxWidth: '250px'\n    },\n    src: logo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Username\", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      handleNameChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onChange: e => {\n      handlePasswordChange(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 53\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => callApi(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 14\n    }\n  }, \"!\\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\")), error && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"\\u05E9\\u05DD \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D0\\u05D5 \\u05E1\\u05D9\\u05E1\\u05DE\\u05D0 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D9\\u05DD*\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["E:/prots/app/src/Login/index.tsx"],"names":["React","useState","axios","useHistory","fire","require","logo","Login","error","setError","history","details","username","password","useEffect","localStorage","getItem","push","callApi","config","headers","data","params","post","then","response","console","log","setItem","catch","handleNameChange","event","target","value","handlePasswordChange","maxWidth","marginBottom","e"],"mappings":"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","sourcesContent":["import React, {useState, Component} from 'react';\r\nimport './styles.scss';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEnvelopeOpen } from '@fortawesome/free-regular-svg-icons';\r\nimport { faBars, faCaretDown, faCaretLeft, faFire, faSearch } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst fire = require('../images/fire.png');\r\nconst logo = require('../images/propit.png');\r\n\r\n\r\n\r\nconst Login  = () =>  {\r\n  const [error, setError] = useState(false)\r\n  const history = useHistory();\r\n    const details = {\r\n        username: '',\r\n        password: ''\r\n      }\r\n\r\n    \r\n      React.useEffect(() => {\r\n       \r\n          if(localStorage.getItem('tokenP')){\r\n            history.push(\"/Dashboard\")\r\n          }    \r\n    \r\n    \r\n      }, []); \r\n        \r\n\r\n\r\n   const callApi = () => {\r\n        setError(false)\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n            },\r\n            data: {},\r\n            params: details\r\n            \r\n        }\r\n\r\n\r\n          \r\n\r\n\r\n        axios.post('http://localhost:3001/login', {\r\n            username: details.username,\r\n            password: details.password\r\n          })\r\n          .then(function (response) {\r\n            console.log(response + \"גדשגדשגדש\");\r\n            localStorage.setItem('tokenP',response.data)\r\n            \r\n            history.push(\"/dashboard\");\r\n          })\r\n          .catch(function (error) {\r\n            setError(true)\r\n          });\r\n      \r\n    }\r\n\r\n  const   handleNameChange = (event) => {\r\n        details.username = event.target.value;\r\n        console.log(details.username)\r\n    }\r\n    const handlePasswordChange = (event) => {\r\n        details.password = event.target.value;\r\n        console.log(details.password)\r\n    }\r\n\r\n\r\n      return (\r\n      <div className=\"page\">\r\n        <div className=\"login\">\r\n        <div> <img style={{maxWidth:'250px'}} src={logo}/></div>\r\n        <div style={{marginBottom: '10px'}}>Username<input onChange={e => {handleNameChange(e)}}/></div>\r\n        <div style={{marginBottom: '10px'}}>Password<input type=\"password\" onChange={e => {handlePasswordChange(e)}}/></div>\r\n        <div><button onClick={() => callApi()}>!התחבר</button></div>\r\n        {error && <div>שם משתמש או סיסמא לא תקינים*</div>}\r\n        </div>\r\n        \r\n        \r\n    </div>);\r\n  \r\n    \r\n\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}